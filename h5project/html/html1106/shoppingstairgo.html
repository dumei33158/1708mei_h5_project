<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>shoppingstairgo_地狗购物网-网页定位导航效果</title>
        <style>
            * {
                margin: 0;
                padding: 0;
            }

            body {
                font-size: 12px;
                line-height: 1.7;
            }

            li {
                list-style: none;
            }

            #content {
                width: 800px;
                margin: 0 auto;
                padding: 20px;
            }

            #content h1 {
                color: #0088bb;
            }

            #content .item {
                padding: 20px;
                margin-bottom: 20px;
                border: 1px dotted #0088bb;
            }

            #content .item h2 {
                font-size: 16px;
                font-weight: bold;
                border-bottom: 2px solid #0088bb;
                margin-bottom: 10px;
            }

            #content .item li {
                display: inline;
                margin-right: 10px;
            }

            #content .item li a img {
                width: 230px;
                height: 230px;
                border: none;
            }

            #menu {
                position: fixed;
                top: 100px;
                left: 50%;
                margin-left: 400px;
                width: 50px;
            }

            #menu ul li a {
                display: block;
                margin: 5px 0;
                font-size: 14px;
                font-weight: bold;
                color: #333;
                width: 80px;
                height: 50px;
                line-height: 50px;
                text-decoration: none;
                text-align: center;
            }

            #menu ul li a:hover,
            #menu ul li a.current {
                color: #fff;
                background: #0088bb;
            }

            /*-------处理IE6兼容性--------------*/
            * html, * html body {
                background-image: url(about:blank);
                background-attachment: fixed;
            }

            /* * html #menu {
                 position: absolute;
                 bottom: auto;
                 top: expression(100+((e=document.documentElement.scrollTop)?e:document.body.scrollTop)+'px');
             }*/
        </style>

    </head>
    <body>
    <div id="menu">
        <ul>
            <li><a href="#item1" class="current">1F 男装</a></li>
            <li><a href="#item2">2F 女装</a></li>
            <li><a href="#item3">3F 美妆</a></li>
            <li><a href="#item4">4F 数码</a></li>
            <li><a href="#item5">5F 母婴</a></li>
        </ul>
    </div>
    <div id="content">
        <h1>地狗购物网</h1>
        <div id="item1" class="item">
            <h2>1F 男装</h2>
            <ul>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            </ul>
        </div>
        <div id="item2" class="item">
            <h2>2F 女装</h2>
            <ul>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            </ul>
        </div>
        <div class="box">lorem1</div>
        <div id="item3" class="item">
            <h2>3F 美妆</h2>
            <ul>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            </ul>
        </div>
        <div id="item4" class="item">
            <h2>4F 数码</h2>
            <ul>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
                <li><a href="#"><img src="4F.png" alt=""/></a></li>
            </ul>
        </div>
        <div id="item5" class="item">
            <h2>5F 母婴</h2>
            <ul>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
                <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            </ul>
        </div>
    </div>

    </body>
    </html>
<script src="../../JS/jquery-1.11.3.js"></script>
    <script type="text/javascript">
        var flag=0;
        $("#menu li").click(function(e) {
            flag=1;
            e.stopPropagation();
            e.preventDefault();
            var idx=$(this).index();
            var newSrcollTop=$("#content .item").eq(idx).offset().top;//offsetTop
            //document.documentElement.scrollTop||document.body.scrollTop
            $("body,html").animate({scrollTop: newSrcollTop}, 1000, function () {
                flag=0;
            });
            $("#menu li a").removeClass("current");
            $(this).find("a").addClass("current");
        });

        $(window).scroll(function(){
            if(flag==0){
                var _this=this;
                $("#content .item").each(function(i){
                    console.log($(this).offset().top);
                    if($(this).offset().top-200<$(_this).scrollTop()){
                        $("#menu li a").removeClass("current");
                        $("#menu li").eq(i).find("a").addClass("current");
                    }
                });}else {
                return;
            }
        });
    </script>