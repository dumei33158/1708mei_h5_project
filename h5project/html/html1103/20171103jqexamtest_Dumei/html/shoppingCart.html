<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>shoppingCart</title>
    <link rel="stylesheet" href="../css/style.css"/>
</head>
<body>
<table id="cartTable">
    <thead>
        <tr>
            <th><label><input class="check-all check" type="checkbox"/>&nbsp;全选</label></th>
            <th>商品</th>
            <th>单价</th>
            <th>数量</th>
            <th>小计</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="checkbox"><input class="check-one check" type="checkbox"/></td>
            <td class="goods"><img src="../images/1.jpg" alt=""/><span>Casio/卡西欧 EX-TR350</span></td>
            <td class="price">5999.88</td>
            <td class="count"><span class="reduce">-</span><input class="count-input" type="text" value="1"/><span class="add">+</span></td>
            <td class="subtotal">5999.88</td>
            <td class="operation"><span class="delete">删除</span></td>
        </tr>
        <tr>
            <td class="checkbox"><input class="check-one check" type="checkbox"/></td>
            <td class="goods"><img src="../images/2.jpg" alt=""/><span>Canon/佳能 PowerShot SX50 HS</span></td>
            <td class="price">3888.50</td>
            <td class="count"><span class="reduce">-</span><input class="count-input" type="text" value="1"/><span class="add">+</span></td>
            <td class="subtotal">3888.50</td>
            <td class="operation"><span class="delete">删除</span></td>
        </tr>
        <tr>
            <td class="checkbox"><input class="check-one check" type="checkbox"/></td>
            <td class="goods"><img src="../images/3.jpg" alt=""/><span>Sony/索尼 DSC-WX300</span></td>
            <td class="price">1428.50</td>
            <td class="count"><span class="reduce">-</span><input class="count-input" type="text" value="1"/><span class="add">+</span></td>
            <td class="subtotal">1428.50</td>
            <td class="operation"><span class="delete">删除</span></td>
        </tr>
        <tr>
            <td class="checkbox"><input class="check-one check" type="checkbox"/></td>
            <td class="goods"><img src="../images/4.jpg" alt=""/><span>Fujifilm/富士 instax mini 25</span></td>
            <td class="price">640.60</td>
            <td class="count"><span class="reduce">-</span><input class="count-input" type="text" value="1"/><span class="add">+</span></td>
            <td class="subtotal">640.60</td>
            <td class="operation"><span class="delete">删除</span></td>
        </tr>
    </tbody>
</table>
<div class="foot" id="foot">
    <label class="fl select-all"><input type="checkbox" class="check-all check"/>&nbsp;全选</label>
    <a class="fl delete" id="deleteAll" href="javascript:;">删除</a>
    <div class="fr closing">结 算</div>
    <div class="fr total">合计：￥<span id="priceTotal">0.00</span></div>
    <div class="fr selected" id="selected">已选商品<span id="selectedTotal">0</span>件<span class="arrow up">︽</span><span class="arrow down">︾</span></div>
    <div class="selected-view">
        <div id="selectedViewList" class="clearfix">
            <div><img src="../images/1.jpg"><span>取消选择</span></div>
        </div>
        <span class="arrow">◆<span>◆</span></span>
    </div>
</div>
</body>
</html>
<script src="../css/jquery-3.2.1.min.js"></script>
<script>
$('[class="delete"]').click(function(){
    $(this).parent().parent().remove();
});
var n=0;
var sum=0;
    $('[class="add"]').click(function(){
        n=$(this).parent().find("input").val();
        n++;
        $(this).parent().find("input").val(n);
        sum=$(this).parent().next().text();
        var price=$(this).parent().prev().text();
        sum=price*n;
        $(this).parent().next().text( sum);
        $("#priceTotal").text(($('[class="subtotal"]').eq(0).text()-0)+($('[class="subtotal"]').eq(1).text()-0)+($('[class="subtotal"]').eq(2).text()-0)+($('[class="subtotal"]').eq(3).text()-0));
    });
$('[class="reduce"]').click(function(){
    n=$(this).parent().find("input").val();
    n--;
    n<0&&(n=0);
    $(this).parent().find("input").val(n);
    sum=$(this).parent().next().text();
    var price=$(this).parent().prev().text();
    sum=price*n;
    $(this).parent().next().text( sum);
    $("#priceTotal").text(($('[class="subtotal"]').eq(0).text()-0)+($('[class="subtotal"]').eq(1).text()-0)+($('[class="subtotal"]').eq(2).text()-0)+($('[class="subtotal"]').eq(3).text()-0));
   /* $("#selectedTotal").text($('[class="count-input"]').eq(0).val()+$('[class="count-input"]').eq(1).val()+$('[class="count-input"]').eq(2).val()+$('[class="count-input"]').eq(3).val());*/
});
  $('[class="check-all check"]').click(function(){
      /*  $('[class="checkbox"]>input').css({ checked:"checked"});*/
      $('[class="check-one check"]').prop("checked",$(this).prop("checked"));
    });
$('[class="fl delete"]').click(function(){
    if($(this).prev().find("input").prop("checked")){
        $("tbody").remove();
    }else{
        $('[class="check-one check"]').each(function(i) {
            if ($('[class="check-one check"]').eq(i).prop("checked")) {
                $('[class="check-one check"]').eq(i).parent().parent().remove();
            }
        })
    }
});

  </script>
