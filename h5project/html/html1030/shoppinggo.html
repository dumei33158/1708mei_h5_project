<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>地狗购物网-网页定位导航效果</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            font-size: 12px;
            line-height: 1.7;
        }

        li {
            list-style: none;
        }

        #content {
            width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        #content h1 {
            color: #0088bb;
        }

        #content .item {
            padding: 20px;
            margin-bottom: 20px;
            border: 1px dotted #0088bb;
        }

        #content .item h2 {
            font-size: 16px;
            font-weight: bold;
            border-bottom: 2px solid #0088bb;
            margin-bottom: 10px;
        }

        #content .item li {
            display: inline;
            margin-right: 10px;
        }

        #content .item li a img {
            width: 230px;
            height: 230px;
            border: none;
        }

        #menu {
            position: fixed;
            right:20px;
            top: 100px;
            /* left: 50%;
             margin-left: 400px;*/
            width: 50px;
        }

        #menu ul li a {
            display: block;
            margin: 5px 0;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            width: 80px;
            height: 50px;
            line-height: 50px;
            text-decoration: none;
            text-align: center;
        }

        #menu ul li a:hover,
        #menu ul li a.current {
            color: #fff;
            background: #0088bb;
        }
/*
        !*-------处理IE6兼容性--------------*!
        * html, * html body {
            background-image: url(about:blank);
            background-attachment: fixed;
        }

        !* * html #menu {
             position: absolute;
             bottom: auto;
             top: expression(100+((e=document.documentElement.scrollTop)?e:document.body.scrollTop)+'px');
         }*!*/
    </style>

</head>
<body>
<div id="menu">
    <ul>
        <li><a href="#" class="current">1F 男装</a></li>
        <li><a href="#">2F 女装</a></li>
        <li><a href="#">3F 美妆</a></li>
        <li><a href="#">4F 数码</a></li>
        <li><a href="#">5F 母婴</a></li>
    </ul>
</div>
<div id="content">
    <h1>地狗购物网</h1>
    <div id="item1" class="item">
        <h2>1F 男装</h2>
        <ul>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="1F.jpg" alt=""/></a></li>
        </ul>
    </div>
    <div id="item2" class="item">
        <h2>2F 女装</h2>
        <ul>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="2F.jpg" alt=""/></a></li>
        </ul>
    </div>
    <div class="box">lorem1</div>
    <div id="item3" class="item">
        <h2>3F 美妆</h2>
        <ul>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="3F.jpg" alt=""/></a></li>
        </ul>
    </div>
    <div id="item4" class="item">
        <h2>4F 数码</h2>
        <ul>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
            <li><a href="#"><img src="4F.png" alt=""/></a></li>
        </ul>
    </div>
    <div id="item5" class="item">
        <h2>5F 母婴</h2>
        <ul>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
            <li><a href="#"><img src="5F.jpg" alt=""/></a></li>
        </ul>
    </div>
</div>
</body>
</html>
<script type="text/javascript">
    for(var m=0;m<20;m++){
        var po=document.createElement("p");
        var pos=document.createTextNode("哈哈哈");
        content.appendChild(po);
        po.appendChild(pos);
    }
    var Lis=document.getElementById("menu").getElementsByTagName("li");//li 按钮
    var item=document.getElementsByClassName("item");//每一个楼层的具体内容的元素
    var flag=1;
    for(var i=0;i<Lis.length;i++){
        Lis[i].index=i;
        Lis[i].onclick=function(e){
            var e=e||window.event;
            if(e.preventDefault){
                e.preventDefault();
            }else {
                e.returnValue=false;
            }
            var wSTop=document.documentElement.scrollTop||document.body.scrollTop;
            var n=this.index;
            console.log(n);
            var offset=item[n].offsetTop-wSTop;
            var Time=2000;
            var Interval=10;
            var speed=offset/(Time/Interval);
            //谷歌body识别
            function go(){
                if((speed>0 && item[n].offsetTop>(document.body.scrollTop||document.documentElement.scrollTop))||(speed<0 && item[n].offsetTop<(document.body.scrollTop||document.documentElement.scrollTop ))){
                    document.documentElement.scrollTop+=speed;
                    document.body.scrollTop+=speed;
                    setTimeout(go,Interval);
                    flag=0;
                }else {
                    document.documentElement.scrollTop=item[n].offsetTop;
                    document.body.scrollTop=item[n].offsetTop;
                    flag=1;
                }
            }
            go();
            for(var j=0;j<Lis.length;j++){
                Lis[j].getElementsByTagName("a")[0].className="";
            }
            this.getElementsByTagName("a")[0].className="current";
        }
    }
    window.onscroll=function(){
        if(flag==0){
            return;
        }
        var wScrollTop=document.documentElement.scrollTop||document.body.scrollTop;
        for(var i=0;i<item.length;i++){
            console.log(item[i].offsetTop,wScrollTop);
            if(wScrollTop>=item[i].offsetTop-200){
                for(var j=0;j< Lis.length;j++){
                    Lis[j].getElementsByTagName("a")[0].className="";
                }
                Lis[i].getElementsByTagName("a")[0].className="current";
            }
        }
    };
    /* window.onscroll=function(){
         if(flag==0){
             return;
         }
         var wTop=document.documentElement.scrollTop||document.body.scrollTop;
         /!* console.log(wTop);*!/
         var h=Math.floor(wTop/item[0].offsetHeight);
         console.log(h);
         for(var j=0;j<Lis.length;j++){
             Lis[j].getElementsByTagName("a")[0].className="";
         }
         if(h<Lis.length){
             Lis[h].getElementsByTagName("a")[0].className="current";
         }
     };*/

</script>